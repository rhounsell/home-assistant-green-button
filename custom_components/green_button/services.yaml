log_meter_reading_intervals:
  name: Log Green Button Meter Reading Intervals
  description: >
    Log all Green Button meter readings, their interval block date ranges, and mapped sensor entities for all Green Button usage points. This diagnostic service writes detailed information to the Home Assistant log to help debug data import and entity mapping issues. No fields are required.

log_stored_xmls:
  name: Log Stored Green Button XML Info
  description: >
    Log information about stored XML data in the config entry, including labels and date ranges. 
    This helps diagnose why data might be missing after restart.

delete_statistics:
  name: Delete Green Button Statistics
  description: Delete all historical statistics for a Green Button sensor. This will clear the data from the Energy Dashboard. You will need to re-import your XML data after deletion.
  fields:
    statistic_id:
      name: Statistic ID
      description: "The statistic ID to delete (e.g., sensor.home_electricity_usage). Check Developer Tools â†’ Statistics to find the ID."
      required: true
      example: "sensor.home_electricity_usage"
      selector:
        text:

import_espi_xml:
  name: Import Green Button ESPI XML
  description: Import usage data from an XML file or XML content in the ESPI atom format. Provide either xml_file_path OR xml, not both. Using the same label will merge new data with existing data for that label.
  fields:
    xml_file_path:
      name: XML File Path
      description: "Path to the XML file to import (e.g., /share/myfile.xml). Leave empty if providing XML content directly."
      required: false
      selector:
        text:
    xml:
      name: XML Content
      description: "ESPI XML content to import directly. Leave empty if providing a file path."
      required: false
      selector:
        text:
          multiline: true
    label:
      name: Storage Label
      description: "Label to identify this data source (e.g., 'electricity' or 'gas'). Using the same label merges data. Different labels keep data separate."
      required: false
      example: "electricity"
      selector:
        text:

clear_stored_xml:
  name: Clear Stored Green Button XML Data
  description: >
    Clear all stored Green Button XML data for a specific label, or all labels if not specified.
    Use this to reset saved storage in .storage/core.config_entries if it grows too large from
    multiple imports. You will need to re-import your XML data after clearing. 
    This service does not delete statistics from the recorder database. The energy dashboard history
    remains intact. If you also want to clear the statistics from the database, you'd use the 
    Delete Green Button Statistics service separately.
  fields:
    label:
      name: Label to Clear
      description: "The label to clear (e.g., 'electricity'). Leave empty to clear ALL stored XMLs."
      required: false
      example: "electricity"
      selector:
        text:
