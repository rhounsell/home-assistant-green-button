log_meter_reading_intervals:
  name: Log Green Button Meter Reading Intervals
  description: >
    Log all Green Button meter readings, their interval block date ranges, and mapped sensor entities for all Green Button usage points. This diagnostic service writes detailed information to the Home Assistant log to help debug data import and entity mapping issues. No fields are required.
delete_statistics:
  name: Delete Green Button Statistics
  description: Delete all historical statistics for a Green Button sensor. This will clear the data from the Energy Dashboard. You will need to re-import your XML data after deletion.
  fields:
    statistic_id:
      name: Green Button Sensor
      description: Select the Green Button sensor whose statistics you want to delete.
      required: true
      example: "sensor.home_electricity_consumption"
      selector:
        entity:
          integration: green_button
          domain: sensor

import_espi_xml:
  name: Import Green Button ESPI XML
  description: Import usage data from an XML file or XML content in the ESPI atom format. Provide either xml_file_path OR xml, not both.
  fields:
    xml_file_path:
      name: XML File Path
      description: "Path to the XML file to import (e.g., /share/myfile.xml). Leave empty if providing XML content directly."
      required: false
      selector:
        text:
    xml:
      name: XML Content
      description: "ESPI XML content to import directly. Leave empty if providing a file path."
      required: false
      selector:
        text:
          multiline: true

log_statistics:
  name: Log Statistics
  description: Log Statistics
  target:
    entity:
      domain: number
      integration: green_button
  fields:
    start:
      name: Start
      description: Start
      required: true
      selector:
        datetime:
    end:
      name: End
      description: End
      required: true
      selector:
        datetime:

reset:
  name: Reset
  description: Reset
  target:
    entity:
      domain: number
      integration: green_button
